// Generated by CoffeeScript 1.6.3
(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;i="192.168.2.35";s="kellishaver";e=$("body");u=$("#screen");t=$("#dashboard-tpl").html();n={alert:"none",hue:14922,effect:"none",sat:144,bri:254,on:!0};r=function(e,t,n){var r;n==="light"?r="http://"+i+"/api"+s+"/lights/"+e+"/state":n==="group"&&(r="http://"+i+"/api"+s+"/groups/"+e+"/action");return $.ajax(r,{type:"GET",dataType:"JSON",type:"PUT",data:JSON.stringify(t),queue:!0})};o=function(){var e;document.getElementById("screen").innerHTML="";e={lights:[]};return $.getJSON("http://"+i+"/api"+s+"/lights",function(n){var r,i;for(r in n){i=n[r];e.lights.push({id:r,name:i.name})}return u.html(Mark.up(t,e))})};a=function(e){return r(e,n,"light")};f=function(){return r(0,n,"group")};l=function(e){return r(e,{on:!1},"light")};c=function(){return r(0,{on:!1},"group")};h=function(e){return r(e,{on:!0},"light")};p=function(){return r(0,{on:!0},"group")};jQuery(function(){e.on("click","a",function(e){return e.preventDefault()}).on("mousedown","a, button",function(){return $(this).addClass("touched")}).on("mouseup","a, button",function(){return $(this).removeClass("touched")}).on("click",".dashboard",function(){return o()}).on("click",".turn-default",function(){return a($(this).data("id"))}).on("click",".turn-off",function(){return l($(this).data("id"))}).on("click",".turn-on",function(){return h($(this).data("id"))}).on("click",".all-default",function(){return f()}).on("click",".all-off",function(){return c()}).on("click",".all-on",function(){return p()});return o()})}).call(this);