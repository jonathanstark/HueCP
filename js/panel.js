// Generated by CoffeeScript 1.6.3
(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;o="192.168.2.35";u="kellishaver";a=null;e=$("body");h=$("#screen");n=$("#dashboard-tpl").html();t=$("#bulbs-tpl").html();s=$("#favorites-tpl").html();r={alert:"none",hue:14922,effect:"none",sat:144,bri:254,on:!0};i=function(e,t,n){var r;n==="light"?r="http://"+o+"/api"+u+"/lights/"+e+"/state":n==="group"&&(r="http://"+o+"/api"+u+"/groups/"+e+"/action");return $.ajax(r,{type:"GET",dataType:"JSON",type:"PUT",data:JSON.stringify(t),queue:!0})};f=function(){var e;document.getElementById("screen").innerHTML="";e={lights:[]};return h.html(Mark.up(t))};l=function(){var e;document.getElementById("screen").innerHTML="";if(a===null){e={lights:[]};return $.getJSON("http://"+o+"/api"+u+"/lights",function(t){var r,i;for(r in t){i=t[r];e.lights.push({id:r,name:i.name})}a=e;return h.html(Mark.up(n,e))})}return h.html(Mark.up(n,a))};c=function(){var e;document.getElementById("screen").innerHTML="";e={favorites:[]};return h.html(Mark.up(s))};p=function(e){return i(e,r,"light")};d=function(){return i(0,r,"group")};v=function(e){return i(e,{on:!1},"light")};m=function(){return i(0,{on:!1},"group")};g=function(e){return i(e,{on:!0},"light")};y=function(){return i(0,{on:!0},"group")};jQuery(function(){e.on("click","a",function(e){return e.preventDefault()}).on("mousedown","a, button",function(){return $(this).addClass("touched")}).on("mouseup","a, button",function(){return $(this).removeClass("touched")}).on("click",".dashboard",function(){return l()}).on("click",".bulbs",function(){return f()}).on("click",".favorites",function(){return c()}).on("click",".turn-default",function(){return p($(this).data("id"))}).on("click",".turn-off",function(){return v($(this).data("id"))}).on("click",".turn-on",function(){return g($(this).data("id"))}).on("click",".all-default",function(){return d()}).on("click",".all-off",function(){return m()}).on("click",".all-on",function(){return y()});return l()})}).call(this);